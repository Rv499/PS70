<!DOCTYPE html>
<html lang="en">

<title>PS70: Intro to Digital Fabrication </title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="../style.css" rel="stylesheet">


<nav class="navbar navbar-expand-sm navbar-dark" style="background-color: #130F1D; color: #EEE7E8;">
  <div style="align-items: center; justify-content: center;" class="container-fluid">
    <div class="flexrow">
      <h2 class="nav-title">PS70 // Intro to Digital Fabrication // F23</h2>
    </div>
    <div class="navbar-nav">
      <h4><a class="nav-link" href="../index.html">Home</a></h4>
      <h4><a class="nav-link" href="../about.html">About</a></h4>
    </div>
  </div>
</nav>

<body>
<xmp style="display:none;">
<div class="textcontainer">
<p class="margin">   </p>

<h3>Week 1: Final Project Proposal</h3>

<p class="margin">   </p>
<div class="flexrow">
  <a id="btn" href="wk7.zip" download>Download my files from this week!
  </a>
</div>
<p class="margin">   </p>

<h4>Assignment: Minimum Viable Product for Final Project</h4>

This week we were tasked with creating a MVP. The part of my project that I decided to focus on was the programing a sensor to detect heart rate and using the heart rate to generate journal prompts. When first starting off I tried 3 different sensors before settling on 1. the 3 various sensors I tried was MAX30102, Orignal Pulse Sensor and CSY147 Pulse sensor. I ultimately decided to go with the orignial pulse sensor sense they had sample codes and a large amount of youtube video tutorial videos available. After watching their youtube vidoes I wired the sensor accordingly. After the wiring I tried one of the sample codes to ensure the sensor could detect my heart rate. I had issues getting the heart rate to be detected in the serial plotter. I decided to change the baud to 115200 and the heart rate started to show up! After I got a consistent heart rate I then wanted to check the accuracy. The closes device I had to a heart rate monitor was my apple watch. My pulse sensor and apple watch return similar BPM +/- 3 bpm. This was a great a sign. The next step was the hardest. I needed to program the various heart rates to print a journal prompt instead of just the BPM. To make things simple I started with 3 journal prompts. 1 prompt is less than 80, the other is 80 -100 and the last is higher than 100.

<pre><code style="background-color: #2d2b33;">
 


#include <PulseSensorPlayground.h>     // Includes the PulseSensorPlayground Library.   

//  Variables
const int PulseWire = 0;       // PulseSensor PURPLE WIRE connected to ANALOG PIN 0
const int LED = LED_BUILTIN;          // The on-board Arduino LED, close to PIN 13.
int Threshold = 550;           // Determine which Signal to "count as a beat" and which to ignore.
                               // Use the "Gettting Started Project" to fine-tune Threshold Value beyond default setting.
                               // Otherwise leave the default "550" value. 
                               
PulseSensorPlayground pulseSensor;  // Creates an instance of the PulseSensorPlayground object called "pulseSensor"


void setup() {   

  Serial.begin(115200);          // For Serial Monitor

  // Configure the PulseSensor object, by assigning our variables to it. 
  pulseSensor.analogInput(PulseWire);   
  pulseSensor.blinkOnPulse(LED);       //auto-magically blink Arduino's LED with heartbeat.
  pulseSensor.setThreshold(Threshold);   

  // Double-check the "pulseSensor" object was created and "began" seeing a signal. 
   if (pulseSensor.begin()) {
    Serial.println("Bernie's heart rate detected. Take a deep breathe !");  //This prints one time at Arduino power-up,  or on Arduino reset.  
  }
}

void loop() {
  if (pulseSensor.sawStartOfBeat()) {
    int myBPM = pulseSensor.getBeatsPerMinute();
    Serial.println("â™¥  A HeartBeat Happened ! ");
    Serial.print("BPM: ");
    Serial.println(myBPM);
    
    // Now, let's decide on a journal prompt based on the BPM
    if(myBPM <= 60) {
      Serial.println("Journal Prompt: What's been a source of peace in your life lately?");
    } else if(myBPM <= 80) {
      Serial.println("Journal Prompt: Reflect on your day. What moments stood out?");
    } else if(myBPM <= 100) {
      Serial.println("Journal Prompt: What challenges are you currently facing, and how do you feel about them?");
    } else {
      Serial.println("Journal Prompt: What excites you right now? Explore the reasons behind your excitement.");
    }
  }
  delay(20); // Best practice in a simple sketch.
}

</code></pre>

p class="margin">   </p>
<div class="flexrow">
  <video controls>
    <source src="./mvp_demo.mov" type="video/mp4">
  </video>
  </div>
<p class="caption">Checking the heart rate calibration compared to my apple watch</p>

<p class="margin">   </p>
<div class="flexrow">
  <video controls>
    <source src="./mvp_demo1.mov" type="video/mp4">
  </video>
  </div>
<p class="caption"> The working MVP!
</p>


<

</div>
</xmp>
</body>

<script src="../strapdown.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" ></script>

</html>